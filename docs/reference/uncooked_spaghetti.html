<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summarise kin-pair information and use it to create uncooked spaghetti plots — uncooked_spaghetti • CKMRpop</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Summarise kin-pair information and use it to create uncooked spaghetti plots — uncooked_spaghetti" />
<meta property="og:description" content="This gives a nice graphical summary of all the kin pairs along with when they
were sampled and their age at the time of sampling and their sex.
#'  In order to visually summarize all the kin pairs that were found,
with specific reference to their age, time of sampling, and sex, I find it
helpful to use what I have named the &quot;Uncooked Spaghetti Plot&quot;.  There are multiple
subpanels on this plot.  Here is how to read/view these plots:
Each row of subpanels is for a different dominant relationship, going from
closer relationships near the top and more distant ones further down.  You can
find the abbreviation for the dominant relationship at the right edge of the panels.
In each row, there are four subpanels: F-&amp;gt;F, F-&amp;gt;M, M-&amp;gt;F, and M-&amp;gt;M.  These
refer to the different possible combinations of sexes of the individuals in the pair.
For the non-symmetrical relationships these are naturally defined with the
first letter (F for female or M for male) denoting the sex of the &quot;upper_member&quot;
of the relationship.  That is, if it is PO, then the sex of the parent is the first letter.
The sex of the non-upper-member is the second letter.  Thus a PO pair that consists of
a father and a daughter would appear in a plot that is in the PO row in the M-&amp;gt;F column.
For the symmetrical relationships, there isn't a comparably natural way of
ordering the individuals' sexes for presentation.  For these relationships, the
first letter refers to the sex of the individual that was sampled in the earliest
year.  If both individuals were sampled in the same year, and they are of different
sexes, then the female is considered the first one, so those all go on the F-&amp;gt;M subpanel.

On the subpanels, each straight line (i.e., each piece of uncooked spaghetti) represents
a single kin pair.  The two endpoints represent the year/time of sampling (on the x-axis)
and the age of the individual when it was sampled (on the y-axis) of the two members of
the pair.
If the relationship is non-symmetrical, then the line is drawn as an arrow pointing
from the upper member to the lower member.
The color of the line gives the number of shared ancestors (max_hit) at the level
of the dominant relationship. This is how you can distinguish full-sibs from half-sibs, etc.


" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CKMRpop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/about_spip.html">About spip</a>
    </li>
    <li>
      <a href="../articles/simple-example-with-migration.html">A Simple Example With Migration</a>
    </li>
    <li>
      <a href="../articles/species_1_simulation.html">Simulation from species 1 life history</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summarise kin-pair information and use it to create uncooked spaghetti plots</h1>
    
    <div class="hidden name"><code>uncooked_spaghetti.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This gives a nice graphical summary of all the kin pairs along with when they
were sampled and their age at the time of sampling and their sex.
#'  In order to visually summarize all the kin pairs that were found,
with specific reference to their age, time of sampling, and sex, I find it
helpful to use what I have named the "Uncooked Spaghetti Plot".  There are multiple
subpanels on this plot.  Here is how to read/view these plots:</p><ul>
<li><p>Each row of subpanels is for a different dominant relationship, going from
closer relationships near the top and more distant ones further down.  You can
find the abbreviation for the dominant relationship at the right edge of the panels.</p></li>
<li><p>In each row, there are four subpanels: <code>F-&gt;F</code>, <code>F-&gt;M</code>, <code>M-&gt;F</code>, and <code>M-&gt;M</code>.  These
refer to the different possible combinations of sexes of the individuals in the pair.</p><ul>
<li><p>For the non-symmetrical relationships these are naturally defined with the
first letter (<code>F</code> for female or <code>M</code> for male) denoting the sex of the "upper_member"
of the relationship.  That is, if it is PO, then the sex of the parent is the first letter.
The sex of the non-upper-member is the second letter.  Thus a <code>PO</code> pair that consists of
a father and a daughter would appear in a plot that is in the <code>PO</code> row in the <code>M-&gt;F</code> column.</p></li>
<li><p>For the symmetrical relationships, there isn't a comparably natural way of
ordering the individuals' sexes for presentation.  For these relationships, the
first letter refers to the sex of the individual that was sampled in the earliest
year.  If both individuals were sampled in the same year, and they are of different
sexes, then the female is considered the first one, so those all go on the <code>F-&gt;M</code> subpanel.</p></li>
</ul></li>
<li><p>On the subpanels, each straight line (i.e., each piece of uncooked spaghetti) represents
a single kin pair.  The two endpoints represent the year/time of sampling (on the x-axis)
and the age of the individual when it was sampled (on the y-axis) of the two members of
the pair.</p><ul>
<li><p>If the relationship is non-symmetrical, then the line is drawn as an arrow pointing
from the upper member to the lower member.</p></li>
<li><p>The color of the line gives the number of shared ancestors (<code>max_hit</code>) at the level
of the dominant relationship. This is how you can distinguish full-sibs from half-sibs, etc.</p></li>
</ul></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>uncooked_spaghetti</span><span class='op'>(</span><span class='va'>Pairs</span>, <span class='va'>Samples</span>, jitter_age <span class='op'>=</span> <span class='fl'>0.2</span>, jitter_year <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Pairs</th>
      <td><p>The tibble of kin pairs that comes out of <code><a href='compile_related_pairs.html'>compile_related_pairs()</a></code>.</p></td>
    </tr>
    <tr>
      <th>Samples</th>
      <td><p>The tibble of samples that comes out of <code><a href='slurp_spip.html'>slurp_spip()</a></code>.</p></td>
    </tr>
    <tr>
      <th>jitter_age</th>
      <td><p>half the width of the uniform jitter window around age</p></td>
    </tr>
    <tr>
      <th>jitter_year</th>
      <td><p>half the width of the uniform jitter window around sampling year</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>uncooked_spaghetti()</code> returns a list with two components: <code>input_data</code> and <code>plot</code>.
<code>plot</code> is a ggplot object of the plot described above in "Description."  <code>input_data</code> is,
itself, another list with the following named components:</p><ul>
<li><p><code>P5</code>: A tibble that is a processed version of the <code>Pairs</code> input.  This is what
goes into makeing the ggplot.</p></li>
<li><p><code>age_grid</code>: A tibble giving the coordinates for placing the alternating pink and white
horizontal background rectangles on the plot.</p></li>
<li><p><code>year_grid</code>: A tibble giving the coordinates for placing the alternating pink and white
vertical background rectangles on the plot.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># get the input variables</span>
<span class='va'>Samples</span> <span class='op'>&lt;-</span> <span class='va'>species_1_slurped_results</span><span class='op'>$</span><span class='va'>samples</span>
<span class='va'>Pairs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='compile_related_pairs.html'>compile_related_pairs</a></span><span class='op'>(</span><span class='va'>Samples</span><span class='op'>)</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>uncooked_spaghetti</span><span class='op'>(</span><span class='va'>Pairs</span>, <span class='va'>Samples</span><span class='op'>)</span>

<span class='co'># produce the plot with:</span>
<span class='co'># result$plot</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eric C. Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


