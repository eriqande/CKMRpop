<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>compile pairwise relationships from the samples — compile_related_pairs • CKMRpop</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="compile pairwise relationships from the samples — compile_related_pairs"><meta property="og:description" content="Run this on some of the output from slurp_spip()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CKMRpop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/about_spip.html">About spip</a>
    </li>
    <li>
      <a href="../articles/population-growth-with-spip.html">population-growth-with-spip</a>
    </li>
    <li>
      <a href="../articles/simple-example-with-migration.html">A Simple Example With Migration</a>
    </li>
    <li>
      <a href="../articles/species_1_simulation.html">Simulation from species 1 life history</a>
    </li>
    <li>
      <a href="../articles/using-other-simulation-programs.html">Using Other Simulation Programs with CKMRpop</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>compile pairwise relationships from the samples</h1>
    
    <div class="hidden name"><code>compile_related_pairs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Run this on some of the output from <code><a href="slurp_spip.html">slurp_spip()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compile_related_pairs</span><span class="op">(</span><span class="va">S</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>S</dt>
<dd><p>a tibble. In the context of this package this tibble is
typically going to often be the
<code>samples</code> component of the output slurped up from spip with <code><a href="slurp_spip.html">slurp_spip()</a></code>.
More generally, it is a tibble that must have the columns:</p><ul><li><p><code>ID</code>: the id of the sample</p></li>
<li><p><code>ancestors</code>: a list column of the ancestor vectors of each individual</p></li>
<li><p><code>relatives</code>: a list column of the vectors of individual samples (including self)
that each individual is related to.</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a tibble with columns <code>id_1</code> and <code>id_2</code> for each pair.  Any additional
columns outside of <code>relatives</code> will be joined with <code>_1</code> and
<code>_2</code> suffixes.  In a typical run slurped up from spip this leads to the following
columns:</p><ul><li><p><code>id_1</code>: the id of the first sample of the pair,</p></li>
<li><p><code>id_2</code>: the id of the 2nd sample of the pair,</p></li>
<li><p><code>conn_comp</code>: the index of the connected component to which the pair belongs,</p></li>
<li><p><code>dom_relat</code>: the dominant relationship that the pair shares,</p></li>
<li><p><code>max_hit</code>: the number of shared ancestors at the level of the dominant relationship</p></li>
<li><p><code>dr_hits</code>: a list column of two-vectors---the number of shared ancestors at the level
of the dominant relationship in the upper and lower quadrants, respectively of the
ancestry match matrix. If the relationship is symmetrical, the two values are the same.</p></li>
<li><p><code>upper_member</code>: for non-symmetrical relationships, a 1 or a 2 indicating which member of the
pair is the one that is typically older (i.e. the uncle in an uncle-nephew relationship), or
NA if the relationship is symmetrical.</p></li>
<li><p><code>times_encountered</code>: the number of times this pair was encountered when processing the
output of the depth first search algorithm that found these pairs.  Not typically used for
downstream analyses.</p></li>
<li><p><code>primary_shared_ancestors</code>: a list columns of two-vectors.  The first element of each is the
the position in the ancestry vector of id_1's primary shared ancestor.  The second element is
the same for id_2.</p></li>
<li><p><code>psa_tibs</code>: like <code>primary_shared_ancestor</code> but a list column of tibbles.</p></li>
<li><p><code>pop_pre_1</code>, <code>pop_post_1</code>, <code>pop_dur_1</code>: the population from which the id_1 individual
was sampled during the prekill, postkill, or during-reproduction sampling episodes,
respectively.  NA for episodes in which the individual was not sampled</p></li>
<li><p><code>pop_pre_2</code>, <code>pop_post_2</code>, <code>pop_dur_2</code>: same as above for the id_2 individual.</p></li>
<li><p><code>sex_1</code>: sex of the id_1 individual,</p></li>
<li><p><code>sex_2</code>: sex of the id_2 individual,</p></li>
<li><p><code>born_year_1</code>: birth year of the id_1 individual,</p></li>
<li><p><code>born_year_2</code>: birth year of the id_2 individual,</p></li>
<li><p><code>samp_years_list_pre_1</code>: list column of years during which the id_1 individual was sampled
during the prekill episode.</p></li>
<li><p><code>samp_years_list_dur_1</code>: list column of years during which the id_1 individual was sampled
during reproduction.</p></li>
<li><p><code>samp_years_list_post_1</code>: list column of years during which the id_1 individual was sampled
during the postkill episode.</p></li>
<li><p><code>samp_years_list_1</code>: by default this column is identical to <code>samp_years_list_post_1</code> and is the
column used in downstream plotting by some functions.  If you want to use a different column,
for example <code>samp_years_list_pre_1</code> for the downstream plotting, then set the value of
<code>samp_years_list_1</code> to the same values,</p></li>
<li><p><code>samp_years_list_pre_2</code>, <code>samp_years_list_dur_2</code>, <code>samp_years_list_post_2</code>, <code>samp_years_list_2</code>: same
as above but for individual with id_2,</p></li>
<li><p><code>born_pop_1</code>: index of population in which id_1 was born,</p></li>
<li><p><code>ancestors_1</code>: ancestry vector of id_1,</p></li>
<li><p><code>born_pop_2</code>: index of population in which id_2 was born,</p></li>
<li><p><code>ancestors_2</code>: ancestry vector of id_2,</p></li>
<li><p><code>anc_match_matrix</code>: the ancestry match matrix (a logical matrix) for the pair.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">C</span> <span class="op">&lt;-</span> <span class="fu">compile_related_pairs</span><span class="op">(</span><span class="va">three_pops_with_mig_slurped_results</span><span class="op">$</span><span class="va">samples</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eric C. Anderson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

